[gd_scene load_steps=20 format=3 uid="uid://brayl5720tpcc"]

[ext_resource type="Script" uid="uid://bqrq0kk8352e" path="res://scripts/battle_screen/battle_screen.gd" id="1_jkca0"]
[ext_resource type="AudioStream" uid="uid://ds24siwhetrtm" path="res://audio/Music/main_loop.mp3" id="2_jwmpd"]
[ext_resource type="AudioStream" uid="uid://da5ea5n085l6m" path="res://audio/SFX/Atmosphere/atmos_background.mp3" id="3_6lb5u"]
[ext_resource type="AudioStream" uid="uid://b228jitbdrhh5" path="res://audio/SFX/stings/enter_ring_start_game.mp3" id="4_jwmpd"]
[ext_resource type="AudioStream" uid="uid://18qlfyy7swnu" path="res://audio/SFX/stings/winning_sound.mp3" id="5_h607l"]
[ext_resource type="AudioStream" uid="uid://b5txc8xotr4h3" path="res://audio/SFX/stings/losing_sound.mp3" id="6_vehr2"]
[ext_resource type="AudioStream" uid="uid://bct00visjud2s" path="res://audio/SFX/objects/ticking_increment.mp3" id="7_vehr2"]
[ext_resource type="AudioStream" uid="uid://d1scn5gk2irh6" path="res://audio/SFX/objects/button_press_1.mp3" id="8_ikkpg"]
[ext_resource type="AudioStream" uid="uid://d4g4d1o8qvydb" path="res://audio/SFX/objects/button_press_3.mp3" id="9_lskjy"]
[ext_resource type="Texture2D" uid="uid://bipt1x5h2mpfv" path="res://assets/Background_FINAL1.png" id="10_bgqsx"]
[ext_resource type="Texture2D" uid="uid://cg38s2l0yinn5" path="res://assets/Chalk_area_PCR_Scribbles1.png" id="11_lskjy"]
[ext_resource type="Texture2D" uid="uid://cd48jfxxjpfp2" path="res://assets/tutorial_trinity1.png" id="11_p0qi6"]
[ext_resource type="Texture2D" uid="uid://uwi4qti11bga" path="res://assets/panel_1.png" id="11_qm3lx"]
[ext_resource type="Texture2D" uid="uid://oktq0wjvjpw4" path="res://assets/Rock_button_green.png" id="13_81rp5"]
[ext_resource type="Texture2D" uid="uid://bru4o185imugk" path="res://assets/Enemy_Panel_Purple1.png" id="13_bgqsx"]
[ext_resource type="Texture2D" uid="uid://di3glr466vgou" path="res://assets/paper_button_yellow.png" id="14_20e4q"]
[ext_resource type="Texture2D" uid="uid://o1hlghtu3582" path="res://assets/Scissors_button_pink.png" id="15_20e4q"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_jkca0"]
size = Vector2(102.594, 118.75)

[sub_resource type="CircleShape2D" id="CircleShape2D_jkca0"]
radius = 15.1327

[node name="Battle Screen" type="Node2D"]
script = ExtResource("1_jkca0")

[node name="MainMenuMusic" type="AudioStreamPlayer2D" parent="."]
stream = ExtResource("2_jwmpd")
bus = &"Main Loop"
parameters/looping = true

[node name="BackgroundMusic" type="AudioStreamPlayer2D" parent="."]
stream = ExtResource("3_6lb5u")
bus = &"Background"

[node name="EnterRingSFX" type="AudioStreamPlayer2D" parent="."]
stream = ExtResource("4_jwmpd")

[node name="WinSound" type="AudioStreamPlayer2D" parent="."]
stream = ExtResource("5_h607l")

[node name="LoseSound" type="AudioStreamPlayer2D" parent="."]
stream = ExtResource("6_vehr2")

[node name="BetTickingIncrement" type="AudioStreamPlayer2D" parent="."]
stream = ExtResource("7_vehr2")

[node name="PawButtonClick" type="AudioStreamPlayer2D" parent="."]
stream = ExtResource("8_ikkpg")

[node name="ClawButtonClick" type="AudioStreamPlayer2D" parent="."]
stream = ExtResource("9_lskjy")

[node name="RoarButtonClick" type="AudioStreamPlayer2D" parent="."]
stream = ExtResource("9_lskjy")

[node name="Menu" type="CanvasLayer" parent="."]

[node name="StartGameButton" type="Button" parent="Menu"]
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -60.0
offset_top = 74.0
offset_right = 52.0
offset_bottom = 103.0
grow_horizontal = 2
grow_vertical = 2
text = "Start Game"
metadata/_edit_use_anchors_ = true

[node name="MenuTransitionTimer" type="Timer" parent="."]
wait_time = 3.0
one_shot = true

[node name="Camera2D" type="Camera2D" parent="."]
top_level = true
position = Vector2(320, 181)
zoom = Vector2(1.4, 1.4)

[node name="Background" type="TextureRect" parent="."]
offset_left = -11.0
offset_top = -3.0
offset_right = 644.0
offset_bottom = 395.0
texture = ExtResource("10_bgqsx")
expand_mode = 1
stretch_mode = 4

[node name="Trinity" type="Sprite2D" parent="."]
position = Vector2(-64, 162)
scale = Vector2(1.67, 1.67)
texture = ExtResource("11_p0qi6")
region_enabled = true
region_rect = Rect2(0, 56, 72, 48)

[node name="BetArea" type="Node2D" parent="."]

[node name="PawArea" type="Area2D" parent="BetArea"]
position = Vector2(199, 161)

[node name="CollisionShape2D" type="CollisionShape2D" parent="BetArea/PawArea"]
position = Vector2(4.70313, 0)
shape = SubResource("RectangleShape2D_jkca0")

[node name="ColorRect" type="ColorRect" parent="BetArea/PawArea"]
visible = false
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -47.0
offset_top = -59.0
offset_right = -7.0
offset_bottom = -19.0
grow_horizontal = 2
grow_vertical = 2
scale = Vector2(2.36, 2.96)
size_flags_horizontal = 4
size_flags_vertical = 4
color = Color(0.0295066, 0.0295066, 0.0295066, 0.47451)

[node name="ClawArea" type="Area2D" parent="BetArea"]
position = Vector2(315, 158)

[node name="CollisionShape2D" type="CollisionShape2D" parent="BetArea/ClawArea"]
position = Vector2(-1, 3)
shape = SubResource("RectangleShape2D_jkca0")

[node name="ColorRect" type="ColorRect" parent="BetArea/ClawArea"]
visible = false
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -48.0
offset_top = -59.0
offset_right = -8.0
offset_bottom = -19.0
grow_horizontal = 2
grow_vertical = 2
scale = Vector2(2.36, 2.96)
size_flags_horizontal = 4
size_flags_vertical = 4
color = Color(0.0295066, 0.0295066, 0.0295066, 0.47451)

[node name="RoarArea" type="Area2D" parent="BetArea"]
position = Vector2(438, 158)

[node name="CollisionShape2D" type="CollisionShape2D" parent="BetArea/RoarArea"]
position = Vector2(-11, 3)
shape = SubResource("RectangleShape2D_jkca0")

[node name="ColorRect" type="ColorRect" parent="BetArea/RoarArea"]
visible = false
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -47.0
offset_top = -59.0
offset_right = -7.0
offset_bottom = -19.0
grow_horizontal = 2
grow_vertical = 2
scale = Vector2(2.36, 2.96)
size_flags_horizontal = 4
size_flags_vertical = 4
color = Color(0.0295066, 0.0295066, 0.0295066, 0.47451)

[node name="UI" type="CanvasLayer" parent="."]
visible = false

[node name="PawButton" type="Button" parent="UI" groups=["button"]]
modulate = Color(1, 1, 1, 0)
offset_left = 249.0
offset_top = 322.0
offset_right = 286.0
offset_bottom = 357.0
scale = Vector2(1, 0.76)

[node name="ClawButton" type="Button" parent="UI" groups=["button"]]
modulate = Color(1, 1, 1, 0)
offset_left = 299.0
offset_top = 322.0
offset_right = 336.0
offset_bottom = 357.0
scale = Vector2(1, 0.76)

[node name="RoarButton" type="Button" parent="UI" groups=["button"]]
modulate = Color(1, 1, 1, 0)
offset_left = 349.0
offset_top = 322.0
offset_right = 386.0
offset_bottom = 357.0
scale = Vector2(1, 0.76)

[node name="PlayerCookieCounter" type="Label" parent="UI"]
modulate = Color(1, 1, 1, 0.745098)
offset_left = 198.0
offset_top = 269.0
offset_right = 249.0
offset_bottom = 294.0
text = "0"
horizontal_alignment = 1

[node name="EnemyCookieCounter" type="Label" parent="UI"]
modulate = Color(1, 1, 1, 0.745098)
offset_left = 177.0
offset_top = 2.0
offset_right = 228.0
offset_bottom = 27.0
text = "0"
horizontal_alignment = 1

[node name="PawCookieCounter" type="Label" parent="UI"]
modulate = Color(1, 1, 1, 0.745098)
offset_left = 184.0
offset_top = 223.0
offset_right = 224.0
offset_bottom = 246.0
text = "0"
horizontal_alignment = 1

[node name="ClawCookieCounter" type="Label" parent="UI"]
modulate = Color(1, 1, 1, 0.745098)
offset_left = 296.0
offset_top = 222.0
offset_right = 336.0
offset_bottom = 245.0
text = "0"
horizontal_alignment = 1

[node name="RoarCookieCounter" type="Label" parent="UI"]
modulate = Color(1, 1, 1, 0.745098)
offset_left = 412.0
offset_top = 222.0
offset_right = 452.0
offset_bottom = 245.0
text = "0"
horizontal_alignment = 1

[node name="PlayerResultLabel" type="Label" parent="UI"]
modulate = Color(1, 1, 1, 0.745098)
offset_left = 296.0
offset_top = 289.0
offset_right = 336.0
offset_bottom = 312.0

[node name="EnemyResultLabel" type="Label" parent="UI"]
modulate = Color(1, 1, 1, 0.745098)
offset_left = 291.0
offset_top = 42.0
offset_right = 331.0
offset_bottom = 65.0

[node name="PlayerCookieSpawnArea" type="Area2D" parent="UI"]
position = Vector2(315, 268)

[node name="CollisionShape2D" type="CollisionShape2D" parent="UI/PlayerCookieSpawnArea"]
shape = SubResource("CircleShape2D_jkca0")

[node name="EnemyCookieSpawnArea" type="Area2D" parent="UI"]
position = Vector2(316, 17)

[node name="CollisionShape2D" type="CollisionShape2D" parent="UI/EnemyCookieSpawnArea"]
shape = SubResource("CircleShape2D_jkca0")

[node name="BetPhaseLabel" type="Label" parent="UI"]
modulate = Color(1, 1, 1, 0.745098)
offset_left = 489.0
offset_top = 146.0
offset_right = 636.0
offset_bottom = 163.0
theme_override_font_sizes/font_size = 13
text = "Place your cookies!"
horizontal_alignment = 1
vertical_alignment = 1

[node name="TimerLabel" type="Label" parent="UI"]
modulate = Color(1, 1, 1, 0.745098)
offset_left = 546.0
offset_top = 170.0
offset_right = 586.0
offset_bottom = 209.0
theme_override_font_sizes/font_size = 30

[node name="PickInstructions" type="Label" parent="UI"]
visible = false
modulate = Color(1, 1, 1, 0.745098)
offset_left = 222.0
offset_top = 304.0
offset_right = 427.0
offset_bottom = 321.0
theme_override_font_sizes/font_size = 13
text = "Choose Paw, Claw, or Roar!"

[node name="BetPhaseTimer" type="Timer" parent="."]
wait_time = 10.0
one_shot = true

[node name="ResultTimer" type="Timer" parent="."]
wait_time = 3.0
one_shot = true

[node name="BetAreaChalk" type="TextureRect" parent="."]
offset_left = 12.0
offset_top = 6.0
offset_right = 613.0
offset_bottom = 366.0
texture = ExtResource("11_lskjy")
stretch_mode = 4

[node name="EnemyPanel" type="Sprite2D" parent="."]
position = Vector2(316, 116)
scale = Vector2(1.8, 1.8)
texture = ExtResource("13_bgqsx")

[node name="PlayerPanel" type="Sprite2D" parent="."]
position = Vector2(316, 416)
scale = Vector2(1.8, 1.8)
texture = ExtResource("11_qm3lx")

[node name="PawButtonDefault" type="Sprite2D" parent="PlayerPanel"]
position = Vector2(-26.667, 16)
scale = Vector2(0.833333, 0.833333)
texture = ExtResource("13_81rp5")
region_enabled = true
region_rect = Rect2(103, 36, 25, 19)

[node name="PawButtonPressed" type="Sprite2D" parent="PlayerPanel"]
visible = false
position = Vector2(-26.806, 16)
scale = Vector2(0.833333, 0.833333)
texture = ExtResource("13_81rp5")
region_enabled = true
region_rect = Rect2(423, 36, 25, 19)

[node name="ClawButtonDefault" type="Sprite2D" parent="PlayerPanel"]
modulate = Color(0.789879, 0.789879, 0.789879, 1)
position = Vector2(1.11111, 16.1111)
scale = Vector2(0.833333, 0.833333)
texture = ExtResource("14_20e4q")
region_enabled = true
region_rect = Rect2(147, 36, 25, 19)

[node name="ClawButtonPressed" type="Sprite2D" parent="PlayerPanel"]
visible = false
modulate = Color(0.789879, 0.789879, 0.789879, 1)
position = Vector2(1.09165, 16)
scale = Vector2(0.833333, 0.833333)
texture = ExtResource("14_20e4q")
region_enabled = true
region_rect = Rect2(467, 36, 25, 19)

[node name="RoarButtonDefault" type="Sprite2D" parent="PlayerPanel"]
position = Vector2(28.8722, 16)
scale = Vector2(0.833333, 0.833333)
texture = ExtResource("15_20e4q")
region_enabled = true
region_rect = Rect2(192, 36, 24, 20)

[node name="RoarButtonPressed" type="Sprite2D" parent="PlayerPanel"]
visible = false
position = Vector2(28.8722, 16)
scale = Vector2(0.833333, 0.833333)
texture = ExtResource("15_20e4q")
region_enabled = true
region_rect = Rect2(511, 36, 25, 19)

[node name="PlayerCookieCollector" type="Marker2D" parent="."]
position = Vector2(315, 392)

[node name="EnemyCookieCollector" type="Marker2D" parent="."]
position = Vector2(314, -28)

[node name="BetPenalty" type="Label" parent="."]
visible = false
modulate = Color(0.884342, 0, 0.0115613, 1)
offset_left = 213.0
offset_top = 235.0
offset_right = 253.0
offset_bottom = 256.0
text = "-5"

[node name="GameOver" type="CanvasLayer" parent="."]
visible = false

[node name="PlayAgainButton" type="Button" parent="GameOver"]
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -78.0
offset_top = 23.0
offset_right = 79.0
offset_bottom = 54.0
grow_horizontal = 2
grow_vertical = 2
text = "Back to Main Menu"

[node name="GameOverResult" type="Label" parent="GameOver"]
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -178.0
offset_top = -28.0
offset_right = 176.0
offset_bottom = 11.0
grow_horizontal = 2
grow_vertical = 2
theme_override_font_sizes/font_size = 30
text = "YOU WIN / YOU LOSE"
horizontal_alignment = 1
vertical_alignment = 1

[connection signal="pressed" from="Menu/StartGameButton" to="." method="_on_start_game_button_pressed"]
[connection signal="timeout" from="MenuTransitionTimer" to="." method="_on_menu_transition_timer_timeout"]
[connection signal="body_entered" from="BetArea/PawArea" to="." method="_on_paw_area_body_entered"]
[connection signal="body_exited" from="BetArea/PawArea" to="." method="_on_paw_area_body_exited"]
[connection signal="body_entered" from="BetArea/ClawArea" to="." method="_on_claw_area_body_entered"]
[connection signal="body_exited" from="BetArea/ClawArea" to="." method="_on_claw_area_body_exited"]
[connection signal="body_entered" from="BetArea/RoarArea" to="." method="_on_roar_area_body_entered"]
[connection signal="body_exited" from="BetArea/RoarArea" to="." method="_on_roar_area_body_exited"]
[connection signal="pressed" from="UI/PawButton" to="." method="_on_paw_button_pressed"]
[connection signal="pressed" from="UI/ClawButton" to="." method="_on_claw_button_pressed"]
[connection signal="pressed" from="UI/RoarButton" to="." method="_on_roar_button_pressed"]
[connection signal="body_entered" from="UI/PlayerCookieSpawnArea" to="." method="_on_player_cookie_spawn_area_body_entered"]
[connection signal="body_exited" from="UI/PlayerCookieSpawnArea" to="." method="_on_player_cookie_spawn_area_body_exited"]
[connection signal="body_entered" from="UI/EnemyCookieSpawnArea" to="." method="_on_enemy_cookie_spawn_area_body_entered"]
[connection signal="body_exited" from="UI/EnemyCookieSpawnArea" to="." method="_on_enemy_cookie_spawn_area_body_exited"]
[connection signal="timeout" from="BetPhaseTimer" to="." method="_on_bet_phase_timer_timeout"]
[connection signal="timeout" from="ResultTimer" to="." method="_on_result_timer_timeout"]
[connection signal="pressed" from="GameOver/PlayAgainButton" to="." method="_on_play_again_button_pressed"]
