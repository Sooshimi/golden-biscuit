[gd_scene load_steps=5 format=3 uid="uid://brayl5720tpcc"]

[ext_resource type="Script" uid="uid://bqrq0kk8352e" path="res://scripts/battle_screen/battle_screen.gd" id="1_jkca0"]
[ext_resource type="Texture2D" uid="uid://duofnf5orc3hp" path="res://assets/arena_floor_background.png" id="2_jkca0"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_jkca0"]
size = Vector2(93.1875, 118.75)

[sub_resource type="CircleShape2D" id="CircleShape2D_jkca0"]
radius = 21.0

[node name="Battle Screen" type="Node2D"]
script = ExtResource("1_jkca0")

[node name="Camera2D" type="Camera2D" parent="."]
anchor_mode = 0
zoom = Vector2(1.29, 1.29)

[node name="Menu" type="CanvasLayer" parent="."]

[node name="StartGameButton" type="Button" parent="Menu"]
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -4.0
offset_top = -4.0
offset_right = 4.0
offset_bottom = 4.0
grow_horizontal = 2
grow_vertical = 2
text = "Start Game"
metadata/_edit_use_anchors_ = true

[node name="MenuTransitionTimer" type="Timer" parent="."]
wait_time = 3.0
one_shot = true

[node name="TextureRect" type="TextureRect" parent="."]
offset_left = -11.0
offset_top = -3.0
offset_right = 644.0
offset_bottom = 395.0
texture = ExtResource("2_jkca0")
expand_mode = 1
stretch_mode = 4

[node name="BetArea" type="Node2D" parent="."]

[node name="PawArea" type="Area2D" parent="BetArea"]
position = Vector2(193, 158)

[node name="CollisionShape2D" type="CollisionShape2D" parent="BetArea/PawArea"]
shape = SubResource("RectangleShape2D_jkca0")

[node name="ColorRect" type="ColorRect" parent="BetArea/PawArea"]
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -47.0
offset_top = -59.0
offset_right = -7.0
offset_bottom = -19.0
grow_horizontal = 2
grow_vertical = 2
scale = Vector2(2.36, 2.96)
size_flags_horizontal = 4
size_flags_vertical = 4
color = Color(0.0295066, 0.0295066, 0.0295066, 0.47451)

[node name="ClawArea" type="Area2D" parent="BetArea"]
position = Vector2(315, 158)

[node name="CollisionShape2D" type="CollisionShape2D" parent="BetArea/ClawArea"]
shape = SubResource("RectangleShape2D_jkca0")

[node name="ColorRect" type="ColorRect" parent="BetArea/ClawArea"]
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -48.0
offset_top = -59.0
offset_right = -8.0
offset_bottom = -19.0
grow_horizontal = 2
grow_vertical = 2
scale = Vector2(2.36, 2.96)
size_flags_horizontal = 4
size_flags_vertical = 4
color = Color(0.0295066, 0.0295066, 0.0295066, 0.47451)

[node name="RoarArea" type="Area2D" parent="BetArea"]
position = Vector2(438, 158)

[node name="CollisionShape2D" type="CollisionShape2D" parent="BetArea/RoarArea"]
shape = SubResource("RectangleShape2D_jkca0")

[node name="ColorRect" type="ColorRect" parent="BetArea/RoarArea"]
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -47.0
offset_top = -59.0
offset_right = -7.0
offset_bottom = -19.0
grow_horizontal = 2
grow_vertical = 2
scale = Vector2(2.36, 2.96)
size_flags_horizontal = 4
size_flags_vertical = 4
color = Color(0.0295066, 0.0295066, 0.0295066, 0.47451)

[node name="UI" type="CanvasLayer" parent="."]

[node name="PawButton" type="Button" parent="UI"]
offset_left = 247.0
offset_top = 308.0
offset_right = 284.0
offset_bottom = 343.0

[node name="ClawButton" type="Button" parent="UI"]
offset_left = 295.0
offset_top = 308.0
offset_right = 332.0
offset_bottom = 343.0

[node name="Roarbutton" type="Button" parent="UI"]
offset_left = 347.0
offset_top = 308.0
offset_right = 384.0
offset_bottom = 343.0

[node name="PlayerCookieCounter" type="Label" parent="UI"]
modulate = Color(0, 0, 0, 1)
offset_left = 329.0
offset_top = 281.0
offset_right = 380.0
offset_bottom = 306.0
text = "0"
horizontal_alignment = 1

[node name="EnemyCookieCounter" type="Label" parent="UI"]
modulate = Color(0, 0, 0, 1)
offset_left = 331.0
offset_top = 31.0
offset_right = 382.0
offset_bottom = 56.0
text = "0"
horizontal_alignment = 1

[node name="PawCookieCounter" type="Label" parent="UI"]
modulate = Color(0, 0, 0, 1)
offset_left = 165.0
offset_top = 224.0
offset_right = 205.0
offset_bottom = 247.0
text = "0"
horizontal_alignment = 1

[node name="ClawCookieCounter" type="Label" parent="UI"]
modulate = Color(0, 0, 0, 1)
offset_left = 296.0
offset_top = 222.0
offset_right = 336.0
offset_bottom = 245.0
text = "0"
horizontal_alignment = 1

[node name="RoarCookieCounter" type="Label" parent="UI"]
modulate = Color(0, 0, 0, 1)
offset_left = 420.0
offset_top = 222.0
offset_right = 460.0
offset_bottom = 245.0
text = "0"
horizontal_alignment = 1

[node name="PlayerResultLabel" type="Label" parent="UI"]
offset_left = 226.0
offset_top = 266.0
offset_right = 266.0
offset_bottom = 289.0

[node name="EnemyResultLabel" type="Label" parent="UI"]
offset_left = 230.0
offset_top = 44.0
offset_right = 270.0
offset_bottom = 67.0

[node name="PlayerCookieSpawnArea" type="Area2D" parent="UI"]
position = Vector2(315, 274)

[node name="CollisionShape2D" type="CollisionShape2D" parent="UI/PlayerCookieSpawnArea"]
shape = SubResource("CircleShape2D_jkca0")

[node name="EnemyCookieSpawnArea" type="Area2D" parent="UI"]
position = Vector2(313, 57)

[node name="CollisionShape2D" type="CollisionShape2D" parent="UI/EnemyCookieSpawnArea"]
shape = SubResource("CircleShape2D_jkca0")

[node name="BetPhaseLabel" type="Label" parent="UI"]
modulate = Color(0, 0, 0, 1)
offset_left = 406.0
offset_top = 265.0
offset_right = 554.0
offset_bottom = 288.0
text = "Place your cookies!"

[node name="TimerLabel" type="Label" parent="UI"]
modulate = Color(0, 0, 0, 1)
offset_left = 407.0
offset_top = 290.0
offset_right = 447.0
offset_bottom = 313.0

[node name="BetPhaseTimer" type="Timer" parent="."]
wait_time = 7.0
one_shot = true

[node name="ResultTimer" type="Timer" parent="."]
wait_time = 3.0
one_shot = true

[connection signal="pressed" from="Menu/StartGameButton" to="." method="_on_start_game_button_pressed"]
[connection signal="timeout" from="MenuTransitionTimer" to="." method="_on_menu_transition_timer_timeout"]
[connection signal="body_entered" from="BetArea/PawArea" to="." method="_on_paw_area_body_entered"]
[connection signal="body_exited" from="BetArea/PawArea" to="." method="_on_paw_area_body_exited"]
[connection signal="body_entered" from="BetArea/ClawArea" to="." method="_on_claw_area_body_entered"]
[connection signal="body_exited" from="BetArea/ClawArea" to="." method="_on_claw_area_body_exited"]
[connection signal="body_entered" from="BetArea/RoarArea" to="." method="_on_roar_area_body_entered"]
[connection signal="body_exited" from="BetArea/RoarArea" to="." method="_on_roar_area_body_exited"]
[connection signal="pressed" from="UI/PawButton" to="." method="_on_paw_button_pressed"]
[connection signal="pressed" from="UI/ClawButton" to="." method="_on_claw_button_pressed"]
[connection signal="pressed" from="UI/Roarbutton" to="." method="_on_roar_button_pressed"]
[connection signal="body_entered" from="UI/PlayerCookieSpawnArea" to="." method="_on_player_cookie_spawn_area_body_entered"]
[connection signal="body_exited" from="UI/PlayerCookieSpawnArea" to="." method="_on_player_cookie_spawn_area_body_exited"]
[connection signal="body_entered" from="UI/EnemyCookieSpawnArea" to="." method="_on_enemy_cookie_spawn_area_body_entered"]
[connection signal="body_exited" from="UI/EnemyCookieSpawnArea" to="." method="_on_enemy_cookie_spawn_area_body_exited"]
[connection signal="timeout" from="BetPhaseTimer" to="." method="_on_bet_phase_timer_timeout"]
[connection signal="timeout" from="ResultTimer" to="." method="_on_result_timer_timeout"]
